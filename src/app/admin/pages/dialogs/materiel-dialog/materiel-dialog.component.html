<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '5px',fullScreenBackdrop:true }"></ngx-loading>
<h2 mat-dialog-title>{{materiel.id? 'Modification du': 'Nouveau'}} Materiels</h2>
<div mat-dialog-content>
    <form #elementForm="ngForm" name="form">
        <br/>
        <div class="row">
            <div class="col-xl-12 col-lg-12">
                <mat-form-field class="full-width">
                    <mat-label>Type Materiel</mat-label>
                    <mat-select name="typeMateriel" [(ngModel)]="materiel.typeMateriel" required>
                        <div class=select-search-input>
                            <input matInput type="text" name="typeMaterielFilter" focused="'true'" [(ngModel)]="typeMaterielFilter.libelle" type="text" autocomplete="off" placeholder="Search ...">
                            <span class="span-icon-filter">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                        <mat-divider></mat-divider>
                        <mat-option [value]="">Deselectionnez
                            <button class="btn btn-deselect btn-sm button-deselect">X</button>
                        </mat-option>
                        <mat-option *ngFor="let typeMateriel of typeMateriels | filterBy: typeMaterielFilter" [value]="typeMateriel">
                            {{typeMateriel?.libelle}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput [matDatepicker]="date_acquisition" [(ngModel)]="materiel.date_acquisition" name="date_acquisition" placeholder="Date d'acquisition" readonly />
                    <mat-datepicker-toggle matSuffix [for]="date_acquisition">
                    </mat-datepicker-toggle>
                    <mat-datepicker #date_acquisition></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput name="libelle" type="text" placeholder="Libelle" [(ngModel)]="materiel.nom" required />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Etat</mat-label>
                    <mat-select name="type" [(ngModel)]="materiel.etat" required>
                        <mat-option value="EN_ATTENTE">En Attente</mat-option>
                        <mat-option value="EN_COURS">En Cours</mat-option>
                        <mat-option value="ANNULE">Annule</mat-option>
                        <mat-option value="TERMINE">Terminée</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput name="modele" type="text" placeholder="Modele" [(ngModel)]="materiel.modele" required />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput name="marque" type="text" placeholder="Marque" [(ngModel)]="materiel.marque" required/>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput name="adresse_mac" type="text" placeholder="Adresse Mac" [(ngModel)]="materiel.adresse_mac" />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput name="caracteristique" type="text" placeholder="Caractéristique" [(ngModel)]="materiel.caracteristique" />
                </mat-form-field>
            </div>
        </div>
  




        
    </form>
</div>

<div mat-dialog-actions align="center">
    <button mat-dialog-close class="btn btn-close btn-sm btn-rounded mr-1" (click)="onNoClick()">
        <i class="mdi mdi-close"></i> Fermer
    </button>
    <button [disabled]="!elementForm.form.valid" class="btn btn-light btn-sm btn-rounded" (click)="save()">
        <i class="mdi mdi-content-save"></i> Enregistrer
    </button>
</div>